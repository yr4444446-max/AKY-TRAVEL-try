<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
  <meta charset="UTF-8" />
  <title>Plan Your Trip India â€“ AI-Powered Travel Planner</title>
  <meta name="description"
    content="Discover India with AI-powered travel planning. Budget, itinerary, hidden gems & street food â€” all in one place." />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover" />
  <link rel="icon" type="image/svg+xml" href="logo.svg" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=DM+Sans:wght@300;400;500;600&family=Bebas+Neue&display=swap"
    rel="stylesheet" />
  <!-- State buttons styles -->
  <style>
    /* â”€â”€ STATES LIST / BUTTONS â”€â”€ */
    .states-list-wrap {
      flex: 1 1 0;
      overflow-y: auto;
      max-height: 520px;
      padding-right: 0.5rem;
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
    }

    .states-list-wrap::-webkit-scrollbar {
      width: 5px;
    }

    .states-list-wrap::-webkit-scrollbar-track {
      background: transparent;
    }

    .states-list-wrap::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 4px;
    }

    .states-region-label {
      font-size: 0.72rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--uv);
      margin: 1.1rem 0 0.5rem;
      padding-bottom: 0.3rem;
      border-bottom: 1px solid var(--border);
    }

    .states-region-label:first-child {
      margin-top: 0;
    }

    .states-btn-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.45rem;
    }

    .state-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.42rem 0.85rem;
      border-radius: 50px;
      border: 1px solid var(--border);
      background: var(--bg-card);
      color: var(--text);
      font-size: 0.82rem;
      font-weight: 500;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
    }

    .state-btn:hover {
      background: var(--uv-mist);
      border-color: var(--uv);
      color: var(--uv);
      transform: translateY(-1px);
      box-shadow: 0 4px 14px rgba(171, 209, 198, 0.18);
    }

    .state-btn.active {
      background: var(--uv-mist);
      border-color: var(--uv);
      color: var(--uv);
      font-weight: 700;
      box-shadow: 0 0 0 2px rgba(171, 209, 198, 0.25);
    }

    @media (max-width: 768px) {
      .states-list-wrap {
        max-height: 300px;
        margin-bottom: 1.5rem;
      }

      .state-btn {
        font-size: 0.78rem;
        padding: 0.38rem 0.7rem;
      }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ALL CITIES â€” DRAWER SYSTEM
       â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

    /* â”€â”€ Compact trigger section (replaces the huge list) â”€â”€ */
    .all-cities-section {
      padding: 4rem 0;
      background: var(--bg-2);
      text-align: center;
    }

    .cities-drawer-trigger-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.25rem;
      margin-top: 2rem;
    }

    .btn-open-cities-drawer {
      display: inline-flex;
      align-items: center;
      gap: 0.65rem;
      padding: 0.9rem 2rem;
      border-radius: 50px;
      border: 1.5px solid var(--lc-border);
      background: var(--bg-card);
      color: var(--text);
      font-size: 1rem;
      font-weight: 600;
      font-family: inherit;
      cursor: pointer;
      transition: all 0.25s ease;
      box-shadow: 0 4px 20px rgba(171,209,198,0.12);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .btn-open-cities-drawer:hover {
      background: var(--uv-mist);
      border-color: var(--uv);
      color: var(--uv);
      transform: translateY(-2px);
      box-shadow: 0 8px 28px rgba(171,209,198,0.22);
    }

    .btn-open-cities-drawer .drawer-btn-icon {
      font-size: 1.3rem;
    }

    .btn-open-cities-drawer .drawer-btn-count {
      font-size: 0.75rem;
      opacity: 0.65;
      font-weight: 400;
    }

    .cities-drawer-quick-tags {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
      max-width: 560px;
    }

    .cities-quick-tag {
      padding: 0.32rem 0.85rem;
      border-radius: 50px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text-muted);
      font-size: 0.78rem;
      cursor: pointer;
      font-family: inherit;
      transition: all 0.18s;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    .cities-quick-tag:hover {
      border-color: var(--uv);
      color: var(--uv);
      background: var(--uv-mist);
    }

    /* â”€â”€ DRAWER BACKDROP â”€â”€ */
    .cities-drawer-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(5, 10, 8, 0.72);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      z-index: 1200;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .cities-drawer-backdrop.open {
      opacity: 1;
      visibility: visible;
    }

    /* â”€â”€ DRAWER PANEL â”€â”€ */
    .cities-drawer {
      position: fixed;
      top: 0;
      right: 0;
      height: 100%;
      width: min(520px, 92vw);
      background: var(--bg);
      border-left: 1px solid var(--border);
      z-index: 1201;
      display: flex;
      flex-direction: column;
      transform: translateX(100%);
      transition: transform 0.35s cubic-bezier(0.22, 1, 0.36, 1);
      box-shadow: -8px 0 48px rgba(0,0,0,0.55);
    }

    .cities-drawer.open {
      transform: translateX(0);
    }

    /* Mobile: drawer slides up from bottom */
    @media (max-width: 600px) {
      .cities-drawer {
        top: auto;
        bottom: 0;
        right: 0;
        left: 0;
        width: 100%;
        height: 92dvh;
        height: 92svh;
        border-left: none;
        border-top: 1px solid var(--border);
        border-radius: 22px 22px 0 0;
        transform: translateY(100%);
        box-shadow: 0 -8px 48px rgba(0,0,0,0.55);
      }
      .cities-drawer.open {
        transform: translateY(0);
      }
    }

    /* â”€â”€ DRAWER HEADER â”€â”€ */
    .cities-drawer-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1.1rem 1.25rem;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
      gap: 0.75rem;
    }

    /* Mobile pull handle */
    @media (max-width: 600px) {
      .cities-drawer-header {
        padding-top: 0.6rem;
        flex-direction: column;
        align-items: stretch;
        gap: 0.6rem;
      }
      .cities-drawer-header::before {
        content: '';
        display: block;
        width: 40px;
        height: 4px;
        background: rgba(255,255,255,0.15);
        border-radius: 2px;
        margin: 0 auto;
        flex-shrink: 0;
      }
    }

    .cities-drawer-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text);
      white-space: nowrap;
    }

    .cities-drawer-close {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--bg-card);
      color: var(--text-muted);
      font-size: 1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      flex-shrink: 0;
      font-family: inherit;
      transition: all 0.2s;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      align-self: flex-start;
    }

    @media (max-width: 600px) {
      .cities-drawer-close {
        position: absolute;
        top: 0.75rem;
        right: 1rem;
      }
    }

    .cities-drawer-close:hover {
      background: var(--uv-mist);
      border-color: var(--uv);
      color: var(--uv);
      transform: rotate(90deg);
    }

    /* â”€â”€ SEARCH inside drawer â”€â”€ */
    .cities-search-wrap {
      padding: 0.85rem 1.25rem;
      border-bottom: 1px solid var(--border);
      flex-shrink: 0;
      position: relative;
    }

    .cities-search-input {
      width: 100%;
      box-sizing: border-box;
      padding: 0.75rem 1rem 0.75rem 2.6rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 50px;
      color: var(--text);
      font-size: 16px;
      outline: none;
      transition: border-color 0.2s;
      font-family: inherit;
    }

    .cities-search-input:focus {
      border-color: var(--uv);
    }

    .cities-search-icon {
      position: absolute;
      left: 2.1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-dim);
      pointer-events: none;
    }

    /* â”€â”€ REGION TABS inside drawer â”€â”€ */
    .cities-region-tabs {
      display: flex;
      gap: 0.4rem;
      padding: 0.75rem 1.25rem;
      overflow-x: auto;
      scrollbar-width: none;
      -webkit-overflow-scrolling: touch;
      flex-shrink: 0;
      border-bottom: 1px solid var(--border);
    }

    .cities-region-tabs::-webkit-scrollbar { display: none; }

    .city-region-tab {
      flex-shrink: 0;
      padding: 0.35rem 0.9rem;
      border-radius: 50px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text-muted);
      font-size: 0.78rem;
      cursor: pointer;
      transition: all 0.18s;
      font-family: inherit;
      white-space: nowrap;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      min-height: 34px;
      display: flex;
      align-items: center;
    }

    .city-region-tab.active,
    .city-region-tab:hover {
      background: var(--uv-mist);
      border-color: var(--uv);
      color: var(--uv);
    }

    /* â”€â”€ COUNT BADGE â”€â”€ */
    .cities-count-badge {
      padding: 0.5rem 1.25rem;
      color: var(--text-dim);
      font-size: 0.8rem;
      flex-shrink: 0;
      border-bottom: 1px solid var(--border);
    }

    .cities-count-badge strong { color: var(--uv); }

    /* â”€â”€ SCROLLABLE CITY GRID â”€â”€ */
    .cities-drawer-body {
      flex: 1;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      padding: 0.85rem 1.25rem 2rem;
    }

    .cities-master-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.55rem;
    }

    @media (min-width: 400px) {
      .cities-master-grid {
        grid-template-columns: 1fr 1fr;
      }
    }

    .city-list-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 0.7rem 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.55rem;
      cursor: pointer;
      transition: all 0.18s;
      color: var(--text);
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      -webkit-user-select: none;
      user-select: none;
    }

    .city-list-card:hover,
    .city-list-card:active {
      border-color: var(--uv);
      background: var(--uv-mist);
      transform: translateY(-1px);
    }

    .city-list-emoji {
      font-size: 1.25rem;
      flex-shrink: 0;
    }

    .city-list-info { min-width: 0; }

    .city-list-name {
      font-weight: 600;
      font-size: 0.82rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .city-list-state {
      font-size: 0.68rem;
      color: var(--text-dim);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    #noResultsMsg {
      text-align: center;
      padding: 2rem;
      color: var(--text-dim);
      display: none;
      grid-column: 1 / -1;
    }
  </style>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="mobile.css" />

  <!-- Input wrap needs relative positioning for eye-toggle -->
  <style>
    /* â”€â”€ CITY HERO IMAGE â”€â”€ */
    .city-hero {
      position: relative;
      overflow: hidden;
    }

    .city-hero-img {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
      z-index: 0;
      transition: transform 0.6s ease;
    }

    .city-hero:hover .city-hero-img {
      transform: scale(1.04);
    }

    .city-hero-blur-layer {
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, rgba(0, 0, 0, .25), rgba(0, 0, 0, .62));
      pointer-events: none;
      z-index: 1;
    }

    .city-hero-content {
      position: relative;
      z-index: 2;
    }

    /* â”€â”€ WIZ ROUTE GRID (From / To) â”€â”€ */
    .wiz-route-grid {
      display: grid;
      grid-template-columns: 1fr 40px 1fr;
      gap: 0.6rem;
      align-items: stretch;
      margin-bottom: 0.75rem;
    }

    .wiz-route-box {
      background: var(--bg-2);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 0.85rem 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      height: 80px;
      box-sizing: border-box;
      transition: border-color 0.2s;
    }

    .wiz-route-box:focus-within {
      border-color: var(--uv);
      box-shadow: 0 0 0 2px rgba(171, 209, 198, 0.12);
    }

    .wiz-route-label {
      font-size: 0.68rem;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-dim);
      display: flex;
      align-items: center;
      gap: 0.3rem;
      line-height: 1;
    }

    .wiz-route-dot {
      font-size: 0.55rem;
    }

    .from-dot {
      color: #4ade80;
    }

    .to-dot {
      color: var(--uv);
    }

    .wiz-route-input-wrap {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex: 1;
    }

    .wiz-route-icon {
      color: var(--text-dim);
      flex-shrink: 0;
    }

    .wiz-route-input {
      background: transparent;
      border: none;
      outline: none;
      color: var(--text);
      font-size: 0.92rem;
      font-family: inherit;
      width: 100%;
      padding: 0;
    }

    .wiz-route-input::placeholder {
      color: var(--text-dim);
      font-size: 0.85rem;
    }

    .wiz-route-swap {
      width: 40px;
      align-self: center;
      height: 40px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--bg-card);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-muted);
      transition: all 0.2s;
      flex-shrink: 0;
    }

    .wiz-route-swap:hover {
      border-color: var(--uv);
      color: var(--uv);
      background: var(--uv-mist);
      transform: rotate(180deg);
    }

    @media (max-width: 560px) {
      .wiz-route-grid {
        grid-template-columns: 1fr;
        grid-template-rows: auto 40px auto;
      }

      .wiz-route-box {
        height: 72px;
      }

      .wiz-route-swap {
        justify-self: center;
        transform: rotate(90deg);
      }

      .wiz-route-swap:hover {
        transform: rotate(270deg);
      }
    }

    /* â”€â”€ CUSTOM BUDGET â”€â”€ */
    .wiz-b-pp {
      font-size: 0.62rem;
      color: var(--text-dim);
      margin-top: 0.15rem;
    }

    .wiz-custom-budget-wrap {
      margin: 0.9rem 0 0.2rem;
      background: var(--bg-2);
      border: 1px dashed var(--border);
      border-radius: var(--radius);
      padding: 0.85rem 1rem;
    }

    .wiz-custom-budget-label {
      font-size: 0.78rem;
      color: var(--text-muted);
      display: block;
      margin-bottom: 0.55rem;
      font-weight: 500;
    }

    .wiz-custom-budget-input-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 0.5rem 0.85rem;
      transition: border-color 0.2s;
    }

    .wiz-custom-budget-input-row:focus-within {
      border-color: var(--uv);
    }

    .wiz-custom-rupee {
      font-size: 1.1rem;
      color: var(--uv);
      font-weight: 700;
      flex-shrink: 0;
    }

    .wiz-custom-budget-input {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: var(--text);
      font-size: 1rem;
      font-family: inherit;
      font-weight: 600;
    }

    .wiz-custom-budget-input::placeholder {
      color: var(--text-dim);
      font-weight: 400;
    }

    .wiz-custom-pp-tag {
      font-size: 0.75rem;
      color: var(--text-dim);
      white-space: nowrap;
    }

    .wiz-custom-budget-note {
      font-size: 0.74rem;
      color: var(--uv);
      margin-top: 0.4rem;
      min-height: 1rem;
    }

    /* â”€â”€ FOOD GRID 2-col â”€â”€ */
    .wiz-food-grid {
      grid-template-columns: 1fr 1fr !important;
    }

    @media (max-width: 768px) {

      /* 1. City page open: hide navbar */
      body.city-page-open #navbar {
        display: none !important;
      }

      body.city-page-open {
        padding-top: 0 !important;
        overflow: hidden !important;
      }

      /* 2. Place cards: full area tappable */
      .place-card {
        cursor: pointer !important;
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: transparent !important;
        user-select: none !important;
        -webkit-user-select: none !important;
        transition: transform 0.12s ease !important;
      }

      .place-card:active {
        transform: scale(0.97) !important;
      }

      .place-card .place-img-wrap,
      .place-card .place-img-wrap *,
      .place-card .place-img-overlay,
      .place-card .place-badge,
      .place-card .place-hover-cta,
      .place-card .place-info,
      .place-card .place-info h3,
      .place-card .place-info p {
        pointer-events: none !important;
      }

      /* 3. City back button: fixed pill */
      .city-back-btn {
        position: fixed !important;
        top: calc(env(safe-area-inset-top, 0px) + 0.65rem) !important;
        left: 1rem !important;
        z-index: 2100 !important;
        min-height: 44px !important;
        padding: 0 1.1rem !important;
        font-size: 0.84rem !important;
        font-weight: 600 !important;
        font-family: inherit !important;
        border-radius: 22px !important;
        background: rgba(10, 20, 18, 0.85) !important;
        backdrop-filter: blur(16px) !important;
        -webkit-backdrop-filter: blur(16px) !important;
        border: 1px solid rgba(255, 255, 255, 0.22) !important;
        color: #fff !important;
        cursor: pointer !important;
        touch-action: manipulation !important;
        -webkit-tap-highlight-color: transparent !important;
        display: flex !important;
        align-items: center !important;
        gap: 0.4rem !important;
        white-space: nowrap !important;
      }

      .city-back-btn:active {
        background: rgba(171, 209, 198, 0.25) !important;
      }

      .city-hero-content {
        padding-top: calc(env(safe-area-inset-top, 0px) + 4.5rem) !important;
        justify-content: flex-end !important;
      }

      /* 4. Auth modal: fix icon/overflow/sizing */
      /* Hide decorative icons that overlap placeholder text */
      .auth-input-icon {
        display: none !important;
      }

      /* Inputs: correct padding, no overflow */
      .auth-input {
        width: 100% !important;
        box-sizing: border-box !important;
        height: 50px !important;
        font-size: 16px !important;
        border-radius: 12px !important;
        padding: 0 1rem !important;
      }

      /* When password field has toggle, add right padding */
      .auth-input-wrap:has(.auth-pw-toggle) .auth-input {
        padding-right: 3rem !important;
      }

      /* Eye toggle: absolute positioned correctly */
      .auth-pw-toggle {
        position: absolute !important;
        right: 0.75rem !important;
        top: 50% !important;
        transform: translateY(-50%) !important;
        width: 36px !important;
        height: 36px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        background: none !important;
        border: none !important;
        font-size: 1rem !important;
        touch-action: manipulation !important;
        cursor: pointer !important;
        -webkit-tap-highlight-color: transparent !important;
      }

      /* Modal: no horizontal overflow */
      .auth-modal {
        width: 100% !important;
        max-width: 100% !important;
        box-sizing: border-box !important;
        overflow-x: hidden !important;
        border-radius: 24px 24px 0 0 !important;
      }

      .auth-modal-inner {
        padding: 0.5rem 1.25rem 1.5rem !important;
        box-sizing: border-box !important;
        width: 100% !important;
        overflow-x: hidden !important;
      }

      .auth-row {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 0.6rem !important;
      }

      /* 5. Wizard step bar: scrollable, no overflow */
      .wiz-step-bar {
        display: flex !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
        scrollbar-width: none !important;
        gap: 0 !important;
        padding-bottom: 0.5rem !important;
      }

      .wiz-step-bar::-webkit-scrollbar {
        display: none;
      }

      .wiz-step-item {
        flex-shrink: 0 !important;
        min-width: 62px !important;
      }

      .wiz-step-label {
        font-size: 0.57rem !important;
      }

      .wiz-step-circle {
        width: 26px !important;
        height: 26px !important;
        font-size: 0.72rem !important;
      }

      /* 6. Wizard card: no overflow */
      .wizard-card {
        margin: 1rem !important;
        padding: 1.25rem 1rem 1rem !important;
        box-sizing: border-box !important;
        width: calc(100% - 2rem) !important;
        overflow-x: hidden !important;
      }

      /* 7. Global overflow guards */
      .wiz-chips-wrap,
      .wiz-budget-grid,
      .wiz-summary-grid,
      .wiz-date-grid,
      .wiz-footer {
        max-width: 100% !important;
        box-sizing: border-box !important;
      }
    }

    /* Extra small â‰¤ 390px */
    @media (max-width: 390px) {
      .auth-row {
        grid-template-columns: 1fr !important;
      }

      .places-grid {
        grid-template-columns: 1fr !important;
      }

      .city-cards-grid {
        grid-template-columns: 1fr !important;
      }

      .features-grid {
        grid-template-columns: 1fr !important;
      }

      .wiz-step-item {
        min-width: 54px !important;
      }

      .wiz-step-label {
        font-size: 0.52rem !important;
      }
    }
  </style>
</head>

<body>

  <!-- WELCOME OVERLAY -->
  <div id="welcomeOverlay">
    <div class="welcome-word" id="welcomeWord"></div>
    <div class="welcome-lang" id="welcomeLang"></div>
    <div class="welcome-dots" id="welcomeDots"></div>
  </div>

  <!-- LOADER -->
  <div id="loader">
    <div class="loader-inner">
      <div class="loader-chakra">
        <svg viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="44" stroke="var(--gold)" stroke-width="1.5" stroke-dasharray="5 7" />
          <circle cx="50" cy="50" r="28" stroke="var(--gold)" stroke-width="1" stroke-dasharray="3 9" />
          <circle cx="50" cy="50" r="6" fill="var(--gold)" />
          <line x1="50" y1="6" x2="50" y2="94" stroke="var(--gold)" stroke-width="0.6" opacity="0.5" />
          <line x1="6" y1="50" x2="94" y2="50" stroke="var(--gold)" stroke-width="0.6" opacity="0.5" />
          <circle cx="50" cy="6" r="2.5" fill="var(--gold)" />
          <circle cx="50" cy="94" r="2.5" fill="var(--gold)" />
          <circle cx="6" cy="50" r="2.5" fill="var(--gold)" />
          <circle cx="94" cy="50" r="2.5" fill="var(--gold)" />
        </svg>
      </div>
      <div class="loader-text">PLAN YOUR TRIP INDIA</div>
      <div class="loader-bar"><span></span></div>
    </div>
  </div>

  <!-- NAVBAR -->
  <header id="navbar">
    <div class="nav-container">
      <a href="#home" class="nav-logo">
        <img src="india-trip-logo.svg" alt="Logo" class="logo-img" />
        <span class="logo-gem">âœ¦</span> Plan Your Trip India
      </a>
      <nav class="nav-links" id="navLinks">
        <a href="#home" class="nav-link">Home</a>
        <a href="#india-map" class="nav-link">India Map</a>
        <a href="#places" class="nav-link">Places</a>
        <a href="#all-cities" class="nav-link">All Cities</a>
        <a href="#planner" class="nav-link">AI Planner</a>
        <a href="#about" class="nav-link">About</a>
        <a href="#contact" class="nav-link">Contact</a>
      </nav>
      <div class="nav-actions" id="navActions">
        <button class="btn-nav-login" onclick="openModal('loginModal')">Login</button>
        <button class="btn-nav-signup" onclick="openModal('signupModal')">Sign Up âœ¦</button>
      </div>
      <button class="btn-theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="Toggle theme"
        title="Toggle light/dark theme">
        <span class="toggle-track">
          <span class="toggle-thumb"></span>
          <span class="toggle-moon">ğŸŒ™</span>
          <span class="toggle-sun">â˜€ï¸</span>
        </span>
      </button>
      <button class="hamburger" id="hamburger" aria-label="Menu">
        <span></span><span></span><span></span>
      </button>
    </div>
  </header>


  <!-- MAIN CONTENT -->
  <div id="mainContent">

    <!-- HERO -->
    <section id="home" class="hero">
      <div class="hero-bg">
        <img src="Taj%20Mahal.jpg" alt="Taj Mahal India" class="hero-img" onerror="this.style.display='none'" />
        <div class="hero-overlay"></div>
      </div>
      <div class="hero-content">
        <p class="hero-greeting" id="greetingText">Namaste ğŸ™</p>
        <h1 class="hero-headline">PLAN YOUR TRIP<br><span class="headline-accent">INDIA</span></h1>
        <p class="hero-sub">Discover India with AI-powered travel planning</p>
        <div class="hero-cta">
          <a href="#planner" class="btn-primary">Start Planning âœ¦</a>
          <a href="#india-map" class="btn-ghost">Explore Map</a>
        </div>
      </div>
      <div class="scroll-indicator">
        <span>Scroll</span>
        <div class="scroll-line">
          <div class="scroll-dot"></div>
        </div>
      </div>
    </section>

    <!-- STATS -->
    <div class="stats-strip">
      <div class="stat-item"><strong>28+</strong><span>States Covered</span></div>
      <div class="stat-divider"></div>
      <div class="stat-item"><strong>500+</strong><span>Hidden Gems</span></div>
      <div class="stat-divider"></div>
      <div class="stat-item"><strong>AI</strong><span>Powered Itineraries</span></div>
      <div class="stat-divider"></div>
      <div class="stat-item"><strong>Free</strong><span>No Booking Fees</span></div>
    </div>

    <!-- â•â•â• EXPLORE BY STATE â•â•â• -->
    <section id="india-map" class="section map-outer-section">
      <div class="section-header-wrap">
        <div class="section-label-tag">Explore by State</div>
        <h2 class="section-title-main">Browse All States &<br><em>Union Territories</em></h2>
        <p class="section-sub-text">Click any state to get instant AI-powered travel recommendations, best places, food
          &amp; tips.</p>
      </div>

      <div class="india-map-layout">
        <!-- STATE BUTTONS GRID -->
        <div class="states-list-wrap">
          <!-- Region: North -->
          <div class="states-region-label">ğŸ”ï¸ North India</div>
          <div class="states-btn-grid">
            <button class="state-btn" onclick="onStateClick('Jammu &amp; Kashmir')">ğŸŒ· Jammu &amp; Kashmir</button>
            <button class="state-btn" onclick="onStateClick('Ladakh')">ğŸŒŒ Ladakh</button>
            <button class="state-btn" onclick="onStateClick('Himachal Pradesh')">ğŸ”ï¸ Himachal Pradesh</button>
            <button class="state-btn" onclick="onStateClick('Punjab')">ğŸŒ¾ Punjab</button>
            <button class="state-btn" onclick="onStateClick('Haryana')">ğŸŒ¾ Haryana</button>
            <button class="state-btn" onclick="onStateClick('Delhi')">ğŸ•Œ Delhi</button>
            <button class="state-btn" onclick="onStateClick('Uttarakhand')">â›°ï¸ Uttarakhand</button>
            <button class="state-btn" onclick="onStateClick('Uttar Pradesh')">ğŸ›• Uttar Pradesh</button>
            <button class="state-btn" onclick="onStateClick('Rajasthan')">ğŸœï¸ Rajasthan</button>
            <button class="state-btn" onclick="onStateClick('Chandigarh')">ğŸ™ï¸ Chandigarh (UT)</button>
          </div>

          <!-- Region: West -->
          <div class="states-region-label">ğŸŒŠ West India</div>
          <div class="states-btn-grid">
            <button class="state-btn" onclick="onStateClick('Gujarat')">ğŸ¦ Gujarat</button>
            <button class="state-btn" onclick="onStateClick('Maharashtra')">ğŸŒ† Maharashtra</button>
            <button class="state-btn" onclick="onStateClick('Goa')">ğŸ–ï¸ Goa</button>
            <button class="state-btn" onclick="onStateClick('Dadra &amp; Nagar Haveli')">ğŸŒ¿ Dadra &amp; NH (UT)</button>
            <button class="state-btn" onclick="onStateClick('Daman &amp; Diu')">â›µ Daman &amp; Diu (UT)</button>
          </div>

          <!-- Region: Central -->
          <div class="states-region-label">ğŸ† Central India</div>
          <div class="states-btn-grid">
            <button class="state-btn" onclick="onStateClick('Madhya Pradesh')">ğŸ† Madhya Pradesh</button>
            <button class="state-btn" onclick="onStateClick('Chhattisgarh')">ğŸŒ¿ Chhattisgarh</button>
          </div>

          <!-- Region: East -->
          <div class="states-region-label">ğŸ¯ East India</div>
          <div class="states-btn-grid">
            <button class="state-btn" onclick="onStateClick('Bihar')">ğŸª· Bihar</button>
            <button class="state-btn" onclick="onStateClick('Jharkhand')">â›ï¸ Jharkhand</button>
            <button class="state-btn" onclick="onStateClick('West Bengal')">ğŸ¯ West Bengal</button>
            <button class="state-btn" onclick="onStateClick('Odisha')">ğŸŒŠ Odisha</button>
            <button class="state-btn" onclick="onStateClick('Sikkim')">ğŸ”ï¸ Sikkim</button>
          </div>

          <!-- Region: South -->
          <div class="states-region-label">ğŸŒ´ South India</div>
          <div class="states-btn-grid">
            <button class="state-btn" onclick="onStateClick('Karnataka')">ğŸŒ³ Karnataka</button>
            <button class="state-btn" onclick="onStateClick('Kerala')">ğŸŒ´ Kerala</button>
            <button class="state-btn" onclick="onStateClick('Tamil Nadu')">ğŸ›ï¸ Tamil Nadu</button>
            <button class="state-btn" onclick="onStateClick('Andhra Pradesh')">ğŸŒ¶ï¸ Andhra Pradesh</button>
            <button class="state-btn" onclick="onStateClick('Telangana')">ğŸ’ Telangana</button>
            <button class="state-btn" onclick="onStateClick('Puducherry')">â›µ Puducherry (UT)</button>
          </div>

          <!-- Region: Northeast -->
          <div class="states-region-label">ğŸŒ¿ Northeast India</div>
          <div class="states-btn-grid">
            <button class="state-btn" onclick="onStateClick('Assam')">ğŸµ Assam</button>
            <button class="state-btn" onclick="onStateClick('Arunachal Pradesh')">ğŸ¦… Arunachal Pradesh</button>
            <button class="state-btn" onclick="onStateClick('Meghalaya')">ğŸŒ§ï¸ Meghalaya</button>
            <button class="state-btn" onclick="onStateClick('Nagaland')">ğŸ­ Nagaland</button>
            <button class="state-btn" onclick="onStateClick('Manipur')">ğŸ’ƒ Manipur</button>
            <button class="state-btn" onclick="onStateClick('Mizoram')">ğŸŒ¸ Mizoram</button>
            <button class="state-btn" onclick="onStateClick('Tripura')">ğŸ¯ Tripura</button>
          </div>

          <!-- Islands -->
          <div class="states-region-label">ğŸ¢ Islands</div>
          <div class="states-btn-grid">
            <button class="state-btn" onclick="onStateClick('Andaman and Nicobar')">ğŸ¢ Andaman &amp; Nicobar
              (UT)</button>
            <button class="state-btn" onclick="onStateClick('Lakshadweep')">ğŸª¸ Lakshadweep (UT)</button>
          </div>
        </div>
        <div class="india-map-panel" id="indiaMapPanel">
          <div class="map-panel-default" id="mapPanelDefault">
            <div class="map-pin-bounce">ğŸ“</div>
            <h3>Click Any State</h3>
            <p>Select a state on the map to instantly get AI travel recommendations, famous places, local food and
              hidden
              gems.</p>
            <div class="map-hint-chips">
              <span onclick="triggerStateAI('Rajasthan')">Rajasthan</span>
              <span onclick="triggerStateAI('Kerala')">Kerala</span>
              <span onclick="triggerStateAI('Goa')">Goa</span>
              <span onclick="triggerStateAI('Himachal Pradesh')">Himachal</span>
            </div>
          </div>
          <div class="map-panel-result" id="mapPanelResult" style="display:none">
            <div class="map-result-header">
              <div class="map-result-flag" id="mapStateFlag">ğŸ—ºï¸</div>
              <div>
                <h3 id="mapStateName">State</h3>
                <p id="mapStateTagline" class="map-state-tagline">Loading...</p>
              </div>
            </div>
            <div class="map-result-loading" id="mapResultLoading">
              <div class="ai-typing-dots"><span></span><span></span><span></span></div>
              <p>AI is thinking...</p>
            </div>
            <div class="map-result-content" id="mapResultContent" style="display:none"></div>
            <div class="map-result-actions" id="mapResultActions" style="display:none">
              <button class="btn-map-chat" onclick="chatAboutState()">ğŸ’¬ Chat about this state</button>
              <button class="btn-map-plan" onclick="planThisState()">âœ¦ Plan a Trip Here</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- â•â•â• AI PLANNER â€” 5-STEP WIZARD â•â•â• -->
    <section id="planner" class="planner-outer-section">
      <!-- Photo Banner -->
      <div class="planner-photo-banner">
        <img src="in13.jpeg" alt="India Travel" class="planner-banner-img" />
        <div class="planner-banner-overlay">
          <div class="section-label-tag" style="background:rgba(0,0,0,0.4);border-color:rgba(171,209,198,0.5);">âœ¦ AI
            Planner</div>
          <h2 class="section-title-main" style="color:#fff;text-shadow:0 2px 20px rgba(0,0,0,0.7);">Plan Your
            Next<br><em>India Adventure</em></h2>
          <p class="section-sub-text" style="color:rgba(255,255,255,0.75);">Tell us your preferences â€” our AI crafts the
            perfect itinerary</p>
        </div>
      </div>

      <!-- WIZARD CARD -->
      <div class="wizard-card fade-in" id="wizardCard">

        <!-- STEP BAR -->
        <div class="wiz-step-bar" id="wizStepBar">
          <div class="wiz-step-item active" id="wizStep1">
            <div class="wiz-step-circle">1</div>
            <div class="wiz-step-label">Destination</div>
          </div>
          <div class="wiz-step-item" id="wizStep2">
            <div class="wiz-step-circle">2</div>
            <div class="wiz-step-label">Dates</div>
          </div>
          <div class="wiz-step-item" id="wizStep3">
            <div class="wiz-step-circle">3</div>
            <div class="wiz-step-label">Preferences</div>
          </div>
          <div class="wiz-step-item" id="wizStep4">
            <div class="wiz-step-circle">4</div>
            <div class="wiz-step-label">Budget</div>
          </div>
          <div class="wiz-step-item" id="wizStep5">
            <div class="wiz-step-circle">5</div>
            <div class="wiz-step-label">Food</div>
          </div>
          <div class="wiz-step-item" id="wizStep6">
            <div class="wiz-step-circle">6</div>
            <div class="wiz-step-label">Review</div>
          </div>
        </div>

        <!-- â”€â”€ STEP 1: DESTINATION â”€â”€ -->
        <div class="wiz-panel active" id="wizPanel1">
          <div class="wiz-question">Plan Your Journey âœˆï¸</div>
          <div class="wiz-hint">Tell us where you're starting from and where you want to go</div>

          <!-- FROM / TO two-box layout -->
          <div class="wiz-route-grid">

            <!-- FROM box -->
            <div class="wiz-route-box">
              <div class="wiz-route-label">
                <span class="wiz-route-dot from-dot">â—</span> FROM
              </div>
              <div class="wiz-route-input-wrap">
                <svg class="wiz-route-icon" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                  stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="3" />
                  <path d="M12 2v3M12 19v3M2 12h3M19 12h3" />
                  <circle cx="12" cy="12" r="9" opacity=".25" />
                </svg>
                <input type="text" class="wiz-route-input" id="wizFromInput" placeholder="e.g. Mumbai, Delhi..." />
              </div>
            </div>

            <!-- Swap arrow -->
            <div class="wiz-route-swap" onclick="wizSwapRoutes()" title="Swap">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"
                stroke-linecap="round" stroke-linejoin="round">
                <path d="M7 16V4m0 0L3 8m4-4l4 4" />
                <path d="M17 8v12m0 0l4-4m-4 4l-4-4" />
              </svg>
            </div>

            <!-- TO box -->
            <div class="wiz-route-box">
              <div class="wiz-route-label">
                <span class="wiz-route-dot to-dot">â—</span> TO
              </div>
              <div class="wiz-route-input-wrap">
                <svg class="wiz-route-icon" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                  stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="11" cy="11" r="8" />
                  <path d="m21 21-4.35-4.35" />
                </svg>
                <input type="text" class="wiz-route-input" id="wizDestInput" placeholder="e.g. Goa, Manali..."
                  oninput="wizFilterChips(this.value)" />
              </div>
            </div>
          </div>

          <!-- Location button OUTSIDE boxes -->
          <button class="wiz-loc-btn" id="useLocationBtn" onclick="useCurrentLocation()">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="3" />
              <path d="M12 2v3M12 19v3M2 12h3M19 12h3" />
              <circle cx="12" cy="12" r="9" opacity=".25" />
            </svg>
            <span id="locationBtnText">ğŸ“ Detect My City (sets From)</span>
          </button>

          <div class="wiz-chips-label" style="margin-top:1rem">ğŸ”¥ Popular Destinations</div>
          <div class="wiz-chips-wrap" id="wizDestChips">
            <div class="wiz-chip" onclick="wizSelectDest('Jaipur')">ğŸ¯ Jaipur</div>
            <div class="wiz-chip" onclick="wizSelectDest('Goa')">ğŸ–ï¸ Goa</div>
            <div class="wiz-chip" onclick="wizSelectDest('Kerala')">ğŸŒ¿ Kerala</div>
            <div class="wiz-chip" onclick="wizSelectDest('Manali')">ğŸ”ï¸ Manali</div>
            <div class="wiz-chip" onclick="wizSelectDest('Varanasi')">ğŸ•¯ï¸ Varanasi</div>
            <div class="wiz-chip" onclick="wizSelectDest('Ladakh')">ğŸŒŒ Ladakh</div>
            <div class="wiz-chip" onclick="wizSelectDest('Mumbai')">ğŸŒ† Mumbai</div>
            <div class="wiz-chip" onclick="wizSelectDest('Rajasthan')">ğŸª Rajasthan</div>
            <div class="wiz-chip" onclick="wizSelectDest('Andaman')">ğŸ  Andaman</div>
            <div class="wiz-chip" onclick="wizSelectDest('Rishikesh')">ğŸ§˜ Rishikesh</div>
          </div>
        </div>

        <!-- â”€â”€ STEP 2: DATES â”€â”€ -->
        <div class="wiz-panel" id="wizPanel2">
          <div class="wiz-question">When are you travelling?</div>
          <div class="wiz-hint">Pick your travel window and we'll tailor the best experiences</div>

          <div class="wiz-date-grid">
            <div class="wiz-date-field">
              <label>Departure Date</label>
              <input type="date" id="wizDateFrom" onchange="wizCalcDuration()" />
            </div>
            <div class="wiz-date-field">
              <label>Return Date</label>
              <input type="date" id="wizDateTo" onchange="wizCalcDuration()" />
            </div>
          </div>

          <div class="wiz-duration-badge" id="wizDurationBadge">ğŸ“… Select dates to see trip duration</div>

          <div class="wiz-chips-label">Quick Duration</div>
          <div class="wiz-chips-wrap">
            <div class="wiz-chip" onclick="wizSetDuration(3)">ğŸŒ… Weekend (3 days)</div>
            <div class="wiz-chip" onclick="wizSetDuration(5)">âœˆï¸ Short Trip (5 days)</div>
            <div class="wiz-chip" onclick="wizSetDuration(7)">ğŸ—ºï¸ Week Away (7 days)</div>
            <div class="wiz-chip" onclick="wizSetDuration(10)">ğŸ•ï¸ Extended (10 days)</div>
            <div class="wiz-chip" onclick="wizSetDuration(14)">ğŸŒ Two Weeks (14 days)</div>
          </div>
        </div>

        <!-- â”€â”€ STEP 3: PREFERENCES â”€â”€ -->
        <div class="wiz-panel" id="wizPanel3">
          <div class="wiz-question">What's your travel style?</div>
          <div class="wiz-hint">Select all that apply â€” the more you choose, the better your plan</div>

          <div class="wiz-chips-label">Travel Vibe</div>
          <div class="wiz-chips-wrap">
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ§­ Adventure</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ›ï¸ Culture & History</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ§˜ Spiritual Journey</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ’‘ Romantic Getaway</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family Fun</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸœ Food & Cuisine</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ“¸ Photography</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸŒ¿ Nature & Wildlife</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ„ Beach & Water Sports</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'style')">ğŸ’ Hidden Gems</div>
          </div>

          <div class="wiz-chips-label" style="margin-top:.75rem">How many travelers?</div>
          <div class="wiz-traveler-row">
            <div class="wiz-traveler-info">
              <h4>Adults</h4>
              <p>Ages 13 and above</p>
            </div>
            <div class="wiz-trav-counter">
              <button class="wiz-count-btn" onclick="wizChangeTrav('adults',-1)" id="wizAdultsDown">âˆ’</button>
              <span class="wiz-count-val" id="wizAdultsCount">2</span>
              <button class="wiz-count-btn" onclick="wizChangeTrav('adults',1)">+</button>
            </div>
          </div>
          <div class="wiz-traveler-row">
            <div class="wiz-traveler-info">
              <h4>Children</h4>
              <p>Ages 2 â€“ 12</p>
            </div>
            <div class="wiz-trav-counter">
              <button class="wiz-count-btn" onclick="wizChangeTrav('children',-1)" id="wizChildDown">âˆ’</button>
              <span class="wiz-count-val" id="wizChildCount">0</span>
              <button class="wiz-count-btn" onclick="wizChangeTrav('children',1)">+</button>
            </div>
          </div>
        </div>

        <!-- â”€â”€ STEP 4: BUDGET â”€â”€ -->
        <div class="wiz-panel" id="wizPanel4">
          <div class="wiz-question">What's your budget?</div>
          <div class="wiz-hint">Per person, for the entire trip</div>

          <div class="wiz-budget-grid">
            <div class="wiz-budget-card" onclick="wizSelectBudget(this,'budget')">
              <div class="wiz-b-icon">ğŸ’</div>
              <div class="wiz-b-title">Budget</div>
              <div class="wiz-b-range">â‚¹5k â€“ â‚¹15k</div>
              <div class="wiz-b-pp">per person</div>
            </div>
            <div class="wiz-budget-card selected" onclick="wizSelectBudget(this,'normal')">
              <div class="wiz-b-icon">âœˆï¸</div>
              <div class="wiz-b-title">Mid-Range</div>
              <div class="wiz-b-range">â‚¹15k â€“ â‚¹40k</div>
              <div class="wiz-b-pp">per person</div>
            </div>
            <div class="wiz-budget-card" onclick="wizSelectBudget(this,'luxury')">
              <div class="wiz-b-icon">ğŸ‘‘</div>
              <div class="wiz-b-title">Luxury</div>
              <div class="wiz-b-range">â‚¹40k+</div>
              <div class="wiz-b-pp">per person</div>
            </div>
          </div>

          <!-- Custom amount -->
          <div class="wiz-custom-budget-wrap">
            <label class="wiz-custom-budget-label">âœï¸ Or enter a custom amount per person</label>
            <div class="wiz-custom-budget-input-row">
              <span class="wiz-custom-rupee">â‚¹</span>
              <input type="number" id="wizCustomBudget" class="wiz-custom-budget-input" placeholder="e.g. 25000"
                min="500" step="500" oninput="wizSetCustomBudget(this.value)" />
              <span class="wiz-custom-pp-tag">/ person</span>
            </div>
            <div class="wiz-custom-budget-note" id="wizCustomBudgetNote"></div>
          </div>

          <div class="wiz-chips-label">Accommodation Style</div>
          <div class="wiz-chips-wrap">
            <div class="wiz-chip" onclick="wizToggleChip(this,'accom')">ğŸ¨ Hotel</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'accom')">ğŸ° Heritage / Palace</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'accom')">ğŸ¡ Homestay</div>
            <div class="wiz-chip selected" onclick="wizToggleChip(this,'accom')">ğŸ›ï¸ Resort</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'accom')">ğŸ’ Hostel / Backpacker</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'accom')">â›º Camping / Glamping</div>
          </div>
        </div>

        <!-- â”€â”€ STEP 5: FOOD PREFERENCE â”€â”€ -->
        <div class="wiz-panel" id="wizPanel5">
          <div class="wiz-question">What's your food preference? ğŸ½ï¸</div>
          <div class="wiz-hint">Choose your dining style â€” we'll tailor food recommendations accordingly</div>

          <div class="wiz-food-grid">
            <div class="wiz-food-card" id="wizFood1" onclick="wizSelectFood(this,'veg')">
              <div class="wiz-food-icon">ğŸ¥—</div>
              <div class="wiz-food-title">Vegetarian</div>
              <div class="wiz-food-desc">Pure veg meals, dal, sabzi, paneer & more</div>
            </div>
            <div class="wiz-food-card" id="wizFood3" onclick="wizSelectFood(this,'both')">
              <div class="wiz-food-icon">ğŸ±</div>
              <div class="wiz-food-title">Both / No Preference</div>
              <div class="wiz-food-desc">Open to everything â€” all cuisines welcome</div>
            </div>
          </div>

          <div class="wiz-chips-label" style="margin-top:1rem">Special Dietary Needs</div>
          <div class="wiz-chips-wrap">
            <div class="wiz-chip" onclick="wizToggleChip(this,'diet')">ğŸŒ¾ Gluten-Free</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'diet')">ğŸ¥› Dairy-Free</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'diet')">ğŸŒ¿ Jain Food</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'diet')">ğŸ§‚ Low Spice</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'diet')">ğŸ”¥ Love Spicy</div>
            <div class="wiz-chip" onclick="wizToggleChip(this,'diet')">ğŸœ Street Food Fan</div>
          </div>
        </div>

        <!-- â”€â”€ STEP 6: REVIEW â”€â”€ -->
        <div class="wiz-panel" id="wizPanel6">
          <div class="wiz-question">Your Trip at a Glance</div>
          <div class="wiz-hint">Review before we generate your personalised itinerary</div>

          <div class="wiz-summary-grid">
            <div class="wiz-summary-item">
              <div class="wiz-s-icon">ğŸ“</div>
              <div class="wiz-s-label">Destination</div>
              <div class="wiz-s-value" id="wizSumDest">â€”</div>
            </div>
            <div class="wiz-summary-item">
              <div class="wiz-s-icon">ğŸ“…</div>
              <div class="wiz-s-label">Duration</div>
              <div class="wiz-s-value" id="wizSumDuration">â€”</div>
            </div>
            <div class="wiz-summary-item">
              <div class="wiz-s-icon">ğŸ‘¥</div>
              <div class="wiz-s-label">Travelers</div>
              <div class="wiz-s-value" id="wizSumTravelers">â€”</div>
            </div>
            <div class="wiz-summary-item">
              <div class="wiz-s-icon">ğŸ’°</div>
              <div class="wiz-s-label">Budget</div>
              <div class="wiz-s-value" id="wizSumBudget">â€”</div>
            </div>
            <div class="wiz-summary-item" style="grid-column:1/-1">
              <div class="wiz-s-icon">ğŸ§­</div>
              <div class="wiz-s-label">Travel Style</div>
              <div class="wiz-s-value" id="wizSumStyle" style="font-size:.82rem;font-weight:400">â€”</div>
            </div>
            <div class="wiz-summary-item" style="grid-column:1/-1">
              <div class="wiz-s-icon">ğŸ½ï¸</div>
              <div class="wiz-s-label">Food Preference</div>
              <div class="wiz-s-value" id="wizSumFood" style="font-size:.82rem;font-weight:400">â€”</div>
            </div>
          </div>
        </div>

        <!-- â”€â”€ RESULT PANEL â”€â”€ -->
        <div class="wiz-result-panel" id="wizResultPanel">
          <div class="wiz-result-header">
            <div class="wiz-r-icon">âœ¨</div>
            <h3 id="wizResultTitle">Your Plan is Ready!</h3>
            <p id="wizResultSubtitle">Here's your personalised India itinerary</p>
          </div>
          <div class="wiz-result-cards" id="wizResultCards"></div>
        </div>

        <!-- FOOTER NAV -->
        <div class="wiz-footer" id="wizFooter">
          <button class="wiz-btn-back" id="wizBackBtn" onclick="wizPrevStep()" disabled>â† Back</button>
          <span class="wiz-step-count" id="wizStepCount">Step 1 of 6</span>
          <button class="wiz-btn-next" id="wizNextBtn" onclick="wizNextStep()">
            <span id="wizNextBtnText">Continue</span> â†’
          </button>
        </div>

      </div><!-- /wizard-card -->
    </section>

    <!-- â•â•â• PLACES â•â•â• -->
    <section id="places" class="section places-section">
      <div class="section-header-wrap">
        <div class="section-label-tag">Destinations</div>
        <h2 class="section-title-main">Famous Places<br><em>of India</em></h2>
        <p class="section-sub-text">Click any city card to discover street food, hidden gems & best hotels.</p>
      </div>

      <div class="places-grid">
        <div class="place-card fade-in" onclick="openCityPage('jaipur')">
          <div class="place-img-wrap">
            <img src="Jaipur.jpg" alt="Jaipur" loading="lazy" />
            <div class="place-img-overlay"></div>
            <div class="place-badge">Rajasthan</div>
            <div class="place-hover-cta">Tap to Explore â†’</div>
          </div>
          <div class="place-info">
            <h3>Jaipur</h3>
            <p>The Pink City â€“ palaces, forts & royal heritage</p>
          </div>
        </div>
        <div class="place-card fade-in" onclick="openCityPage('goa')">
          <div class="place-img-wrap">
            <img src="Goa.jpg" alt="Goa" loading="lazy" />
            <div class="place-img-overlay"></div>
            <div class="place-badge">Beach</div>
            <div class="place-hover-cta">Tap to Explore â†’</div>
          </div>
          <div class="place-info">
            <h3>Goa</h3>
            <p>Sun, sand & Portuguese charm on India's coast</p>
          </div>
        </div>
        <div class="place-card fade-in" onclick="openCityPage('manali')">
          <div class="place-img-wrap">
            <img src="Manali.jpg" alt="Manali" loading="lazy" />
            <div class="place-img-overlay"></div>
            <div class="place-badge">Mountains</div>
            <div class="place-hover-cta">Tap to Explore â†’</div>
          </div>
          <div class="place-info">
            <h3>Manali</h3>
            <p>Snow-capped peaks, rivers & adventure awaits</p>
          </div>
        </div>
        <div class="place-card fade-in" onclick="openCityPage('varanasi')">
          <div class="place-img-wrap">
            <img src="Varanasi.jpg" alt="Varanasi" loading="lazy" />
            <div class="place-img-overlay"></div>
            <div class="place-badge">Spiritual</div>
            <div class="place-hover-cta">Tap to Explore â†’</div>
          </div>
          <div class="place-info">
            <h3>Varanasi</h3>
            <p>The oldest living city â€“ ghats, temples & Ganga</p>
          </div>
        </div>
        <div class="place-card fade-in" onclick="openCityPage('kerala')">
          <div class="place-img-wrap">
            <img src="Kerala.jpg" alt="Kerala" loading="lazy" />
            <div class="place-img-overlay"></div>
            <div class="place-badge">Nature</div>
            <div class="place-hover-cta">Tap to Explore â†’</div>
          </div>
          <div class="place-info">
            <h3>Kerala</h3>
            <p>God's own country â€“ backwaters, spice & serenity</p>
          </div>
        </div>
        <div class="place-card fade-in" onclick="openCityPage('ladakh')">
          <div class="place-img-wrap">
            <img src="Ladakh.jpg" alt="Ladakh" loading="lazy" />
            <div class="place-img-overlay"></div>
            <div class="place-badge">High Altitude</div>
            <div class="place-hover-cta">Tap to Explore â†’</div>
          </div>
          <div class="place-info">
            <h3>Ladakh</h3>
            <p>Moonscapes, monasteries & cosmic landscapes</p>
          </div>
        </div>
      </div>
    </section>

    <!-- â•â•â• ALL CITIES OF INDIA â•â•â• -->
    <!-- â•â•â• ALL CITIES â€” DRAWER TRIGGER â•â•â• -->
    <section id="all-cities" class="section all-cities-section">
      <div class="section-header-wrap">
        <div class="section-label-tag">Explore All</div>
        <h2 class="section-title-main">All Cities<br><em>of India</em></h2>
        <p class="section-sub-text">Discover 100+ destinations across every state â€” click any city to plan your trip.</p>
      </div>

      <div class="cities-drawer-trigger-wrap">
        <!-- Main open button -->
        <button class="btn-open-cities-drawer" onclick="openCitiesDrawer()">
          <span class="drawer-btn-icon">ğŸ™ï¸</span>
          Browse All Cities
          <span class="drawer-btn-count">124+ destinations</span>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" style="opacity:.6"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
        </button>

        <!-- Quick region shortcuts -->
        <div class="cities-drawer-quick-tags">
          <button class="cities-quick-tag" onclick="openCitiesDrawer('North')">ğŸ”ï¸ North</button>
          <button class="cities-quick-tag" onclick="openCitiesDrawer('South')">ğŸŒ´ South</button>
          <button class="cities-quick-tag" onclick="openCitiesDrawer('West')">ğŸœï¸ West</button>
          <button class="cities-quick-tag" onclick="openCitiesDrawer('East')">ğŸŒŠ East</button>
          <button class="cities-quick-tag" onclick="openCitiesDrawer('Northeast')">ğŸŒ¿ Northeast</button>
          <button class="cities-quick-tag" onclick="openCitiesDrawer('Central')">ğŸ† Central</button>
          <button class="cities-quick-tag" onclick="openCitiesDrawer('Islands')">ğŸ¢ Islands</button>
        </div>
      </div>
    </section>

    <!-- â•â•â• ALL CITIES DRAWER â•â•â• -->
    <div class="cities-drawer-backdrop" id="citiesDrawerBackdrop" onclick="closeCitiesDrawer()"></div>
    <div class="cities-drawer" id="citiesDrawer" role="dialog" aria-modal="true" aria-label="All Cities of India">

      <!-- Header -->
      <div class="cities-drawer-header">
        <div class="cities-drawer-title">ğŸ™ï¸ All Cities of India</div>
        <button class="cities-drawer-close" onclick="closeCitiesDrawer()" aria-label="Close">âœ•</button>
      </div>

      <!-- Search -->
      <div class="cities-search-wrap">
        <span class="cities-search-icon">
          <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/>
          </svg>
        </span>
        <input type="text" class="cities-search-input" id="citySearchInput"
          placeholder="Search city, state or regionâ€¦"
          oninput="filterCities(this.value)"
          autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" />
      </div>

      <!-- Region tabs -->
      <div class="cities-region-tabs" id="cityRegionTabs">
        <button class="city-region-tab active" onclick="filterCitiesByRegion('All',this)">ğŸ‡®ğŸ‡³ All</button>
        <button class="city-region-tab" onclick="filterCitiesByRegion('North',this)">ğŸ”ï¸ North</button>
        <button class="city-region-tab" onclick="filterCitiesByRegion('South',this)">ğŸŒ´ South</button>
        <button class="city-region-tab" onclick="filterCitiesByRegion('East',this)">ğŸŒŠ East</button>
        <button class="city-region-tab" onclick="filterCitiesByRegion('West',this)">ğŸœï¸ West</button>
        <button class="city-region-tab" onclick="filterCitiesByRegion('Northeast',this)">ğŸŒ¿ Northeast</button>
        <button class="city-region-tab" onclick="filterCitiesByRegion('Central',this)">ğŸ† Central</button>
        <button class="city-region-tab" onclick="filterCitiesByRegion('Islands',this)">ğŸ¢ Islands</button>
      </div>

      <!-- Count -->
      <div class="cities-count-badge" id="citiesCountBadge">
        <strong id="citiesCountNum">124</strong> destinations found
      </div>

      <!-- Scrollable city grid -->
      <div class="cities-drawer-body">
        <div class="cities-master-grid" id="citiesMasterGrid">
          <!-- Populated by JS -->
        </div>
        <div id="noResultsMsg">No cities found. Try a different search.</div>
      </div>
    </div>

    <!-- AI FEATURES -->
    <section class="section features-section">
      <div class="section-header-wrap">
        <div class="section-label-tag">Why AI?</div>
        <h2 class="section-title-main">Smart Planning,<br><em>Better Journeys</em></h2>
      </div>
      <div class="features-grid">
        <div class="feature-card fade-in">
          <div class="feature-icon">â‚¹</div>
          <h3>AI Budget Planning</h3>
          <p>Day-wise breakdown â€” stays, food, transport and activities tailored to your style.</p>
        </div>
        <div class="feature-card fade-in">
          <div class="feature-icon">ğŸœ</div>
          <h3>Street Food Guide</h3>
          <p>Must-try local street foods, where to find them, and prices in every city.</p>
        </div>
        <div class="feature-card fade-in">
          <div class="feature-icon">â—</div>
          <h3>Hidden Gems</h3>
          <p>Skip tourist traps. Our AI uncovers lesser-known spots that locals love.</p>
        </div>
        <div class="feature-card fade-in">
          <div class="feature-icon">ğŸ“…</div>
          <h3>Day-Wise Itinerary</h3>
          <p>A structured plan for each day â€” so you never waste time figuring out what's next.</p>
        </div>
        <div class="feature-card fade-in">
          <div class="feature-icon">ğŸ—º</div>
          <h3>Interactive Maps</h3>
          <p>All your trip spots pinned on a live interactive map with place details.</p>
        </div>
        <div class="feature-card fade-in">
          <div class="feature-icon">ğŸ¨</div>
          <h3>Hotel Suggestions</h3>
          <p>Best stays for every budget â€” heritage havelis to luxury resorts and hostels.</p>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="about" class="section about-section">
      <div class="about-inner">
        <div class="about-text fade-in">
          <div class="section-label-tag">About Us</div>
          <h2 class="section-title-main">We Believe Every<br><em>Journey Matters</em></h2>
          <p>Plan Your Trip India was built with one belief: travel should be intelligent, accessible, and deeply
            personal. India is vast â€” 28 states, hundreds of languages, thousands of cuisines. Planning it shouldn't be
            overwhelming.</p>
          <p>Our AI planner takes your destination, budget, duration and style, and transforms them into a complete
            itinerary â€” with famous sights, hidden gems, street food, interactive maps and hotel picks. No booking
            required. No fees.</p>
          <div class="about-values">
            <div class="about-value"><span class="value-dot"></span>Free forever â€” no hidden charges</div>
            <div class="about-value"><span class="value-dot"></span>Built for Indian travellers, by India lovers</div>
            <div class="about-value"><span class="value-dot"></span>Offline-ready Progressive Web App</div>
          </div>
        </div>
        <div class="about-visual fade-in">
          <div class="about-img-grid">
            <img src="Jaipur.jpg" alt="Jaipur" />
            <img src="Goa.jpg" alt="Goa" />
            <img src="Ladakh.jpg" alt="Ladakh" />
            <img src="Kerala.jpg" alt="Kerala" />
          </div>
        </div>
      </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="section contact-section">
      <div class="section-header-wrap">
        <div class="section-label-tag">Contact</div>
        <h2 class="section-title-main">Get In Touch</h2>
        <p class="section-sub-text">Have questions or suggestions? We'd love to hear from you.</p>
      </div>
      <div class="contact-inner">
        <div class="contact-form-wrap fade-in">
          <form id="contactForm" onsubmit="submitContact(event)">
            <div class="form-group"><label>Your Name</label><input type="text" class="form-input"
                placeholder="Rahul Sharma" required /></div>
            <div class="form-group"><label>Email Address</label><input type="email" class="form-input"
                placeholder="rahul@email.com" required /></div>
            <div class="form-group"><label>Message</label><textarea class="form-input form-textarea" rows="5"
                placeholder="Tell us about your dream India trip..." required></textarea></div>
            <button type="submit" class="btn-primary full">Send Message âœ¦</button>
            <p class="form-success" id="formSuccess" style="display:none">âœ“ Message sent! We'll reply within 24 hours.
            </p>
          </form>
        </div>
        <div class="contact-info fade-in">
          <div class="contact-item">
            <div class="contact-icon">ğŸ“</div>
            <div><strong>Address</strong>
              <p>42, Connaught Place, New Delhi â€“ 110001</p>
            </div>
          </div>
          <div class="contact-item">
            <div class="contact-icon">âœ‰</div>
            <div><strong>Email</strong>
              <p><a href="/cdn-cgi/l/email-protection" class="__cf_email__"
                  data-cfemail="e8808d848487a89884898691879d9a9c9a819881868c8189c68b8785">[email&#160;protected]</a></p>
            </div>
          </div>
          <div class="contact-item">
            <div class="contact-icon">ğŸ“</div>
            <div><strong>Phone</strong>
              <p>+91 98765 43210</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="footer-inner">
        <div class="footer-brand">
          <div class="footer-logo"><img src="india-trip-logo.svg" alt="Logo" class="footer-logo-img" /> Plan Your Trip
            India</div>
          <p>Your AI-powered companion for exploring Incredible India.</p>
          <div class="social-links">
            <a href="#" class="social-btn" aria-label="Instagram"><svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z" />
              </svg></a>
            <a href="#" class="social-btn" aria-label="Facebook"><svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z" />
              </svg></a>
            <a href="#" class="social-btn" aria-label="Twitter"><svg viewBox="0 0 24 24" fill="currentColor">
                <path
                  d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z" />
              </svg></a>
          </div>
        </div>
        <div class="footer-col">
          <h4>Quick Links</h4>
          <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#india-map">India Map</a></li>
            <li><a href="#places">Places</a></li>
            <li><a href="#planner">AI Planner</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Top Cities</h4>
          <ul>
            <li><a href="#" onclick="openCityPage('jaipur');return false">Jaipur</a></li>
            <li><a href="#" onclick="openCityPage('goa');return false">Goa</a></li>
            <li><a href="#" onclick="openCityPage('manali');return false">Manali</a></li>
            <li><a href="#" onclick="openCityPage('varanasi');return false">Varanasi</a></li>
            <li><a href="#" onclick="openCityPage('ladakh');return false">Ladakh</a></li>
          </ul>
        </div>
        <div class="footer-col">
          <h4>Contact</h4>
          <p>42, Connaught Place<br>New Delhi â€“ 110001</p>
          <p style="margin-top:.5rem"><a href="/cdn-cgi/l/email-protection" class="__cf_email__"
              data-cfemail="3c54595050537c4c505d524553494e484e554c555258555d125f5351">[email&#160;protected]</a></p>
          <p style="margin-top:.3rem">+91 98765 43210</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>Â© 2025 Plan Your Trip India. Crafted with â¤ for Incredible India.</p>
      </div>
    </footer>

  </div><!-- /#mainContent -->

  <!-- â•â•â• CITY DETAIL PAGE â•â•â• -->
  <div id="cityPage" style="display:none">
    <div class="city-page-inner">

      <!-- â”€â”€ CITY HERO with background image â”€â”€ -->
      <div class="city-hero" id="cityHero">
        <img id="cityHeroImg" src="" alt="" class="city-hero-img" />
        <div class="city-hero-blur-layer"></div>
        <div class="city-hero-content">
          <button class="city-back-btn" onclick="closeCityPage()">â† Home</button>
          <span class="city-badge-hero" id="cityBadge"></span>
          <h1 class="city-hero-title" id="cityTitle"></h1>
          <p class="city-hero-tagline" id="cityTagline"></p>
          <button class="btn-primary city-plan-btn" onclick="quickPlanCity()">âœ¦ Generate AI Plan for this City</button>
        </div>
      </div>

      <div class="city-tabs-wrap">
        <div class="city-tabs">
          <button class="city-tab active" data-tab="famous">ğŸ› Famous Places</button>
          <button class="city-tab" data-tab="food">ğŸœ Street Food</button>
          <button class="city-tab" data-tab="hidden">â— Hidden Gems</button>
          <button class="city-tab" data-tab="hotels">ğŸ¨ Best Hotels</button>
        </div>
        <div class="city-tab-content active" id="tab-famous">
          <div class="city-cards-grid" id="famousCards"></div>
        </div>
        <div class="city-tab-content" id="tab-food">
          <div class="city-cards-grid" id="foodCards"></div>
        </div>
        <div class="city-tab-content" id="tab-hidden">
          <div class="city-cards-grid" id="hiddenCards"></div>
        </div>
        <div class="city-tab-content" id="tab-hotels">
          <div class="city-cards-grid" id="hotelCards"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- â•â•â• AI CHATBOT â•â•â• -->
  <div class="chatbot-container">
    <div class="chatbot-window" id="chatWindow">
      <div class="chat-header">
        <div class="chat-avatar">ğŸ¤–</div>
        <div class="chat-header-info">
          <h4>India Travel AI</h4>
          <span class="chat-status">â— Online â€” Ask me anything</span>
        </div>
        <button class="chat-close" onclick="toggleChat()">âœ•</button>
      </div>
      <div class="chat-messages" id="chatMessages">
        <div class="chat-msg bot">
          <div class="msg-avatar">ğŸ¤–</div>
          <div class="msg-content">
            Namaste! ğŸ™ I'm your India Travel AI. Ask me about destinations, itineraries, budget tips, food, culture â€”
            anything about travelling in India!
          </div>
        </div>
      </div>
      <div class="chat-input-area">
        <div class="chat-suggestions">
          <button onclick="sendQuickMsg('Best places to visit in India in December?')">â„ï¸ December travel</button>
          <button onclick="sendQuickMsg('Budget trip to Goa for 5 days?')">ğŸ–ï¸ Budget Goa</button>
          <button onclick="sendQuickMsg('Hidden gems in Rajasthan?')">ğŸ’ Hidden gems</button>
        </div>
        <div class="chat-input-row">
          <input type="text" id="chatInput" placeholder="Ask about India travel..."
            onkeydown="if(event.key==='Enter')sendMessage()" />
          <button class="chat-send" onclick="sendMessage()">â¤</button>
        </div>
      </div>
    </div>
    <button class="chatbot-btn" onclick="toggleChat()">
      <span class="chatbot-icon">ğŸ¤–</span>
      <span>Ask AI</span>
      <span class="chat-notif" id="chatNotif">1</span>
    </button>
  </div>

  <!-- TOAST -->
  <div class="toast" id="toast"></div>

  <!-- AUTH MODALS -->
  <div class="auth-modal-backdrop" id="loginModal">
    <div class="auth-modal" role="dialog" aria-modal="true" aria-label="Login">
      <div class="auth-modal-glow"></div>
      <button class="auth-close" onclick="closeModal('loginModal')" aria-label="Close">âœ•</button>
      <div class="auth-modal-inner">
        <div class="auth-logo-wrap">
          <div class="auth-logo-icon">
            <img src="india-trip-logo.svg" alt="Logo" />
          </div>
          <h2>Welcome Back</h2>
          <p>Sign in to your Plan Your Trip India account</p>
        </div>
        <div class="auth-error" id="loginError"></div>
        <div class="auth-field">
          <label for="loginEmail">Email Address</label>
          <div class="auth-input-wrap">
            <input type="email" id="loginEmail" class="auth-input" placeholder="you@email.com" autocomplete="email" />
            <span class="auth-input-icon">âœ‰</span>
          </div>
        </div>
        <div class="auth-field">
          <label for="loginPassword">Password</label>
          <div class="auth-input-wrap">
            <input type="password" id="loginPassword" class="auth-input" placeholder="Your password"
              autocomplete="current-password" />
            <span class="auth-input-icon">ğŸ”’</span>
            <button class="auth-pw-toggle" type="button" onclick="togglePw('loginPassword',this)">ğŸ‘</button>
          </div>
        </div>
        <div class="auth-forgot"><a href="#" onclick="return false">Forgot password?</a></div>
        <button class="auth-submit" id="loginSubmitBtn" onclick="handleLogin()">
          <span class="auth-submit-text">Sign In âœ¦</span>
          <span class="auth-submit-loader"><span></span><span></span><span></span></span>
        </button>
        <div class="auth-divider">or continue with</div>
        <div class="auth-social">
          <button class="auth-social-btn" onclick="handleSocialLogin('Google')">
            <svg viewBox="0 0 24 24">
              <path fill="#EA4335"
                d="M5.27 9.76A7.08 7.08 0 0 1 19.07 12h-7.14v2.86h4.08c-.19.97-.76 1.79-1.6 2.33v1.94h2.59c1.52-1.4 2.4-3.46 2.4-5.9 0-.56-.05-1.1-.14-1.62H12v3.04h6.03a6.19 6.19 0 0 1-.61 1.28l-.06.09H15a7.07 7.07 0 0 1-9.73-4.02z" />
              <path fill="#34A853"
                d="M5.27 14.24A7.08 7.08 0 0 0 12 19.07c1.86 0 3.42-.62 4.56-1.67l-2.59-2.01a4.21 4.21 0 0 1-6.27-2.2l-2.43 1.05z" />
              <path fill="#FBBC05"
                d="M2.69 7.78A7.06 7.06 0 0 0 4.93 14.24l2.43-1.05A4.21 4.21 0 0 1 7.8 9.76L5.27 9.76 2.69 7.78z" />
              <path fill="#EA4335"
                d="M12 4.93c1.05 0 1.99.36 2.73.95l2.04-2.04A7.06 7.06 0 0 0 12 1.93a7.08 7.08 0 0 0-6.73 4.85l2.58 2h.11A4.21 4.21 0 0 1 12 4.93z" />
            </svg>
            Google
          </button>
          <button class="auth-social-btn" onclick="handleSocialLogin('Facebook')">
            <svg viewBox="0 0 24 24">
              <path fill="#1877F2"
                d="M24 12.07C24 5.41 18.63 0 12 0S0 5.41 0 12.07C0 18.1 4.39 23.1 10.13 24v-8.44H7.08v-3.49h3.04V9.41c0-3.02 1.8-4.7 4.54-4.7 1.31 0 2.68.24 2.68.24v2.97h-1.51c-1.49 0-1.95.93-1.95 1.88v2.27h3.32l-.53 3.49h-2.79V24C19.61 23.1 24 18.1 24 12.07z" />
            </svg>
            Facebook
          </button>
        </div>
        <div class="auth-switch">
          <p>Don't have an account? <a href="#" onclick="switchModal('loginModal','signupModal');return false">Create
              one â†’</a></p>
        </div>
      </div>
    </div>
  </div>

  <!-- â•â•â• AUTH MODAL â€” SIGN UP â•â•â• -->
  <div class="auth-modal-backdrop" id="signupModal">
    <div class="auth-modal" role="dialog" aria-modal="true" aria-label="Sign Up">
      <div class="auth-modal-glow"></div>
      <button class="auth-close" onclick="closeModal('signupModal')" aria-label="Close">âœ•</button>
      <div class="auth-modal-inner">
        <div class="auth-logo-wrap">
          <div class="auth-logo-icon">
            <img src="india-trip-logo.svg" alt="Logo" />
          </div>
          <h2>Create Account</h2>
          <p>Start planning your incredible India journey</p>
        </div>
        <div class="auth-error" id="signupError"></div>
        <div class="auth-success" id="signupSuccess"></div>
        <div class="auth-row">
          <div class="auth-field">
            <label for="signupFirst">First Name</label>
            <div class="auth-input-wrap">
              <input type="text" id="signupFirst" class="auth-input" placeholder="Rahul" autocomplete="given-name" />
              <span class="auth-input-icon">ğŸ‘¤</span>
            </div>
          </div>
          <div class="auth-field">
            <label for="signupLast">Last Name</label>
            <div class="auth-input-wrap">
              <input type="text" id="signupLast" class="auth-input" placeholder="Sharma" autocomplete="family-name" />
              <span class="auth-input-icon">ğŸ‘¤</span>
            </div>
          </div>
        </div>
        <div class="auth-field">
          <label for="signupEmail">Email Address</label>
          <div class="auth-input-wrap">
            <input type="email" id="signupEmail" class="auth-input" placeholder="rahul@email.com"
              autocomplete="email" />
            <span class="auth-input-icon">âœ‰</span>
          </div>
        </div>
        <div class="auth-field">
          <label for="signupPassword">Password</label>
          <div class="auth-input-wrap">
            <input type="password" id="signupPassword" class="auth-input" placeholder="Min. 8 characters"
              autocomplete="new-password" oninput="checkPwStrength(this.value)" />
            <span class="auth-input-icon">ğŸ”’</span>
            <button class="auth-pw-toggle" type="button" onclick="togglePw('signupPassword',this)">ğŸ‘</button>
          </div>
          <div class="pw-strength-bar">
            <div class="pw-strength-fill" id="pwStrengthFill"></div>
          </div>
          <div class="pw-strength-label" id="pwStrengthLabel"></div>
        </div>
        <button class="auth-submit" id="signupSubmitBtn" onclick="handleSignup()">
          <span class="auth-submit-text">Create Account âœ¦</span>
          <span class="auth-submit-loader"><span></span><span></span><span></span></span>
        </button>
        <p class="auth-terms">By signing up you agree to our <a href="#">Terms of Service</a> and <a href="#">Privacy
            Policy</a></p>
        <div class="auth-switch">
          <p>Already have an account? <a href="#" onclick="switchModal('signupModal','loginModal');return false">Sign in
              â†’</a></p>
        </div>
      </div>
    </div>
  </div>

  <!-- State Buttons + Cities Logic -->
  <script>
    // â”€â”€â”€ STATE BUTTONS â€” highlight active â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    document.addEventListener('DOMContentLoaded', function () {
      document.querySelectorAll('.state-btn').forEach(function (btn) {
        btn.addEventListener('click', function () {
          document.querySelectorAll('.state-btn').forEach(function (b) { b.classList.remove('active'); });
          btn.classList.add('active');
        });
      });
    });

    // â”€â”€â”€ ALL INDIA CITIES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    var ALL_INDIA_CITIES = [
      // North India
      { name: 'Delhi', state: 'Delhi', region: 'North', emoji: 'ğŸ•Œ' },
      { name: 'Agra', state: 'Uttar Pradesh', region: 'North', emoji: 'ğŸ•Œ' },
      { name: 'Varanasi', state: 'Uttar Pradesh', region: 'North', emoji: 'ğŸª·' },
      { name: 'Lucknow', state: 'Uttar Pradesh', region: 'North', emoji: 'ğŸ–' },
      { name: 'Allahabad', state: 'Uttar Pradesh', region: 'North', emoji: 'â›º' },
      { name: 'Mathura', state: 'Uttar Pradesh', region: 'North', emoji: 'ğŸ¦š' },
      { name: 'Vrindavan', state: 'Uttar Pradesh', region: 'North', emoji: 'ğŸŒ¸' },
      { name: 'Ayodhya', state: 'Uttar Pradesh', region: 'North', emoji: 'ğŸ›•' },
      { name: 'Kanpur', state: 'Uttar Pradesh', region: 'North', emoji: 'ğŸ­' },
      { name: 'Dehradun', state: 'Uttarakhand', region: 'North', emoji: 'ğŸŒ²' },
      { name: 'Rishikesh', state: 'Uttarakhand', region: 'North', emoji: 'ğŸ§˜' },
      { name: 'Haridwar', state: 'Uttarakhand', region: 'North', emoji: 'ğŸª”' },
      { name: 'Mussoorie', state: 'Uttarakhand', region: 'North', emoji: 'ğŸŒ«ï¸' },
      { name: 'Nainital', state: 'Uttarakhand', region: 'North', emoji: 'ğŸï¸' },
      { name: 'Shimla', state: 'Himachal Pradesh', region: 'North', emoji: 'â„ï¸' },
      { name: 'Manali', state: 'Himachal Pradesh', region: 'North', emoji: 'ğŸ”ï¸' },
      { name: 'Dharamshala', state: 'Himachal Pradesh', region: 'North', emoji: 'â˜®ï¸' },
      { name: 'Spiti Valley', state: 'Himachal Pradesh', region: 'North', emoji: 'ğŸŒŒ' },
      { name: 'Amritsar', state: 'Punjab', region: 'North', emoji: 'âœ¨' },
      { name: 'Chandigarh', state: 'Punjab/Haryana', region: 'North', emoji: 'ğŸŒ³' },
      { name: 'Ludhiana', state: 'Punjab', region: 'North', emoji: 'ğŸŒ¾' },
      { name: 'Leh', state: 'Ladakh', region: 'North', emoji: 'ğŸŒŒ' },
      { name: 'Kargil', state: 'Ladakh', region: 'North', emoji: 'â›°ï¸' },
      { name: 'Srinagar', state: 'J&K', region: 'North', emoji: 'ğŸŒ·' },
      { name: 'Gulmarg', state: 'J&K', region: 'North', emoji: 'â›·ï¸' },
      { name: 'Pahalgam', state: 'J&K', region: 'North', emoji: 'ğŸŒ¿' },
      { name: 'Jaipur', state: 'Rajasthan', region: 'North', emoji: 'ğŸ¯' },
      { name: 'Jodhpur', state: 'Rajasthan', region: 'North', emoji: 'ğŸ”µ' },
      { name: 'Udaipur', state: 'Rajasthan', region: 'North', emoji: 'ğŸ°' },
      { name: 'Pushkar', state: 'Rajasthan', region: 'North', emoji: 'ğŸª' },
      { name: 'Jaisalmer', state: 'Rajasthan', region: 'North', emoji: 'ğŸœï¸' },
      { name: 'Ranthambore', state: 'Rajasthan', region: 'North', emoji: 'ğŸ…' },
      { name: 'Bikaner', state: 'Rajasthan', region: 'North', emoji: 'ğŸŒµ' },
      { name: 'Ajmer', state: 'Rajasthan', region: 'North', emoji: 'ğŸ•Œ' },
      { name: 'Mount Abu', state: 'Rajasthan', region: 'North', emoji: 'â›°ï¸' },
      // South India
      { name: 'Bangalore', state: 'Karnataka', region: 'South', emoji: 'ğŸ’»' },
      { name: 'Mysore', state: 'Karnataka', region: 'South', emoji: 'ğŸ¯' },
      { name: 'Hampi', state: 'Karnataka', region: 'South', emoji: 'ğŸ—¿' },
      { name: 'Coorg', state: 'Karnataka', region: 'South', emoji: 'â˜•' },
      { name: 'Mangalore', state: 'Karnataka', region: 'South', emoji: 'ğŸŒŠ' },
      { name: 'Udupi', state: 'Karnataka', region: 'South', emoji: 'ğŸŒº' },
      { name: 'Chennai', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸ›ï¸' },
      { name: 'Madurai', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸ›•' },
      { name: 'Ooty', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸŒ¼' },
      { name: 'Kodaikanal', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸŒ«ï¸' },
      { name: 'Coimbatore', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸ­' },
      { name: 'Mahabalipuram', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸ—¿' },
      { name: 'Rameswaram', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸ•‰ï¸' },
      { name: 'Kanchipuram', state: 'Tamil Nadu', region: 'South', emoji: 'ğŸ§µ' },
      { name: 'Hyderabad', state: 'Telangana', region: 'South', emoji: 'ğŸ’' },
      { name: 'Warangal', state: 'Telangana', region: 'South', emoji: 'ğŸ¯' },
      { name: 'Visakhapatnam', state: 'Andhra Pradesh', region: 'South', emoji: 'âš“' },
      { name: 'Tirupati', state: 'Andhra Pradesh', region: 'South', emoji: 'ğŸ›•' },
      { name: 'Vijayawada', state: 'Andhra Pradesh', region: 'South', emoji: 'ğŸŒŠ' },
      { name: 'Kochi', state: 'Kerala', region: 'South', emoji: 'â›µ' },
      { name: 'Alleppey', state: 'Kerala', region: 'South', emoji: 'ğŸš£' },
      { name: 'Munnar', state: 'Kerala', region: 'South', emoji: 'ğŸƒ' },
      { name: 'Kovalam', state: 'Kerala', region: 'South', emoji: 'ğŸ–ï¸' },
      { name: 'Thiruvananthapuram', state: 'Kerala', region: 'South', emoji: 'ğŸ›ï¸' },
      { name: 'Varkala', state: 'Kerala', region: 'South', emoji: 'ğŸŒŠ' },
      { name: 'Wayanad', state: 'Kerala', region: 'South', emoji: 'ğŸŒ¿' },
      { name: 'Thekkady', state: 'Kerala', region: 'South', emoji: 'ğŸ˜' },
      { name: 'Pondicherry', state: 'Puducherry', region: 'South', emoji: 'â›µ' },
      { name: 'Goa', state: 'Goa', region: 'West', emoji: 'ğŸ–ï¸' },
      // West India
      { name: 'Mumbai', state: 'Maharashtra', region: 'West', emoji: 'ğŸŒ†' },
      { name: 'Pune', state: 'Maharashtra', region: 'West', emoji: 'ğŸ“š' },
      { name: 'Aurangabad', state: 'Maharashtra', region: 'West', emoji: 'ğŸ›ï¸' },
      { name: 'Nashik', state: 'Maharashtra', region: 'West', emoji: 'ğŸ‡' },
      { name: 'Lonavala', state: 'Maharashtra', region: 'West', emoji: 'â›°ï¸' },
      { name: 'Mahabaleshwar', state: 'Maharashtra', region: 'West', emoji: 'ğŸ“' },
      { name: 'Kolhapur', state: 'Maharashtra', region: 'West', emoji: 'ğŸŸï¸' },
      { name: 'Shirdi', state: 'Maharashtra', region: 'West', emoji: 'ğŸ›•' },
      { name: 'Ahmedabad', state: 'Gujarat', region: 'West', emoji: 'ğŸ¦' },
      { name: 'Surat', state: 'Gujarat', region: 'West', emoji: 'ğŸ’' },
      { name: 'Vadodara', state: 'Gujarat', region: 'West', emoji: 'ğŸ¨' },
      { name: 'Rajkot', state: 'Gujarat', region: 'West', emoji: 'ğŸŒ¾' },
      { name: 'Dwarka', state: 'Gujarat', region: 'West', emoji: 'ğŸ›•' },
      { name: 'Rann of Kutch', state: 'Gujarat', region: 'West', emoji: 'ğŸœï¸' },
      { name: 'Somnath', state: 'Gujarat', region: 'West', emoji: 'ğŸ•‰ï¸' },
      { name: 'Gir', state: 'Gujarat', region: 'West', emoji: 'ğŸ¦' },
      // East India
      { name: 'Kolkata', state: 'West Bengal', region: 'East', emoji: 'ğŸ¯' },
      { name: 'Darjeeling', state: 'West Bengal', region: 'East', emoji: 'ğŸµ' },
      { name: 'Sundarbans', state: 'West Bengal', region: 'East', emoji: 'ğŸ…' },
      { name: 'Siliguri', state: 'West Bengal', region: 'East', emoji: 'ğŸŒ„' },
      { name: 'Patna', state: 'Bihar', region: 'East', emoji: 'ğŸ“œ' },
      { name: 'Bodh Gaya', state: 'Bihar', region: 'East', emoji: 'â˜¸ï¸' },
      { name: 'Nalanda', state: 'Bihar', region: 'East', emoji: 'ğŸ“š' },
      { name: 'Rajgir', state: 'Bihar', region: 'East', emoji: 'â›°ï¸' },
      { name: 'Bhubaneswar', state: 'Odisha', region: 'East', emoji: 'ğŸ›•' },
      { name: 'Puri', state: 'Odisha', region: 'East', emoji: 'ğŸŒŠ' },
      { name: 'Konark', state: 'Odisha', region: 'East', emoji: 'ğŸŒ' },
      { name: 'Chilika Lake', state: 'Odisha', region: 'East', emoji: 'ğŸ¦©' },
      { name: 'Ranchi', state: 'Jharkhand', region: 'East', emoji: 'ğŸŒŠ' },
      { name: 'Jamshedpur', state: 'Jharkhand', region: 'East', emoji: 'ğŸ­' },
      // Northeast India
      { name: 'Guwahati', state: 'Assam', region: 'Northeast', emoji: 'ğŸµ' },
      { name: 'Kaziranga', state: 'Assam', region: 'Northeast', emoji: 'ğŸ¦' },
      { name: 'Majuli', state: 'Assam', region: 'Northeast', emoji: 'ğŸï¸' },
      { name: 'Shillong', state: 'Meghalaya', region: 'Northeast', emoji: 'ğŸŒ§ï¸' },
      { name: 'Cherrapunji', state: 'Meghalaya', region: 'Northeast', emoji: 'ğŸ’§' },
      { name: 'Gangtok', state: 'Sikkim', region: 'Northeast', emoji: 'ğŸ”ï¸' },
      { name: 'Pelling', state: 'Sikkim', region: 'Northeast', emoji: 'â›°ï¸' },
      { name: 'Tawang', state: 'Arunachal Pradesh', region: 'Northeast', emoji: 'ğŸ¦…' },
      { name: 'Ziro', state: 'Arunachal Pradesh', region: 'Northeast', emoji: 'ğŸŒ¿' },
      { name: 'Imphal', state: 'Manipur', region: 'Northeast', emoji: 'ğŸ’ƒ' },
      { name: 'Loktak Lake', state: 'Manipur', region: 'Northeast', emoji: 'ğŸï¸' },
      { name: 'Aizawl', state: 'Mizoram', region: 'Northeast', emoji: 'ğŸŒ¸' },
      { name: 'Kohima', state: 'Nagaland', region: 'Northeast', emoji: 'ğŸ­' },
      { name: 'Agartala', state: 'Tripura', region: 'Northeast', emoji: 'ğŸ¯' },
      // Central India
      { name: 'Bhopal', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ†' },
      { name: 'Indore', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ½ï¸' },
      { name: 'Ujjain', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ›•' },
      { name: 'Khajuraho', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ—¿' },
      { name: 'Orchha', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ¯' },
      { name: 'Gwalior', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ°' },
      { name: 'Pachmarhi', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸŒ²' },
      { name: 'Kanha', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ…' },
      { name: 'Bandhavgarh', state: 'Madhya Pradesh', region: 'Central', emoji: 'ğŸ…' },
      { name: 'Raipur', state: 'Chhattisgarh', region: 'Central', emoji: 'ğŸŒ¿' },
      { name: 'Jagdalpur', state: 'Chhattisgarh', region: 'Central', emoji: 'ğŸŒŠ' },
      // Islands
      { name: 'Port Blair', state: 'Andaman & Nicobar', region: 'Islands', emoji: 'ğŸ¢' },
      { name: 'Havelock Island', state: 'Andaman & Nicobar', region: 'Islands', emoji: 'ğŸ¤¿' },
      { name: 'Neil Island', state: 'Andaman & Nicobar', region: 'Islands', emoji: 'ğŸŒŠ' },
      { name: 'Lakshadweep', state: 'Lakshadweep', region: 'Islands', emoji: 'ğŸª¸' },
      { name: 'Kavaratti', state: 'Lakshadweep', region: 'Islands', emoji: 'ğŸ ' },
    ];

    var currentRegionFilter = 'All';
    var currentSearchFilter = '';

    function renderCities() {
      var grid = document.getElementById('citiesMasterGrid');
      var noMsg = document.getElementById('noResultsMsg');
      var countNum = document.getElementById('citiesCountNum');
      var filtered = ALL_INDIA_CITIES.filter(function (c) {
        var matchRegion = currentRegionFilter === 'All' || c.region === currentRegionFilter;
        var q = currentSearchFilter.toLowerCase();
        var matchSearch = !q || c.name.toLowerCase().includes(q) || c.state.toLowerCase().includes(q) || c.region.toLowerCase().includes(q);
        return matchRegion && matchSearch;
      });

      countNum.textContent = filtered.length;
      grid.innerHTML = '';

      if (filtered.length === 0) {
        noMsg.style.display = 'block';
        return;
      }
      noMsg.style.display = 'none';

      filtered.forEach(function (city) {
        var card = document.createElement('div');
        card.className = 'city-list-card fade-in';
        card.innerHTML = '<span class="city-list-emoji">' + city.emoji + '</span><div class="city-list-info"><div class="city-list-name">' + city.name + '</div><div class="city-list-state">' + city.state + '</div></div>';
        card.addEventListener('click', function () {
          var key = city.name.toLowerCase();
          if (window.CITY_DATA && window.CITY_DATA[key]) {
            if (window.openCityPage) window.openCityPage(key);
          } else {
            if (window.wizSelectDest) {
              window.wizSelectDest(city.name);
              document.getElementById('planner').scrollIntoView({ behavior: 'smooth' });
            }
          }
        });
        grid.appendChild(card);
      });

      // Re-init scroll reveal for new cards
      if (window.initScrollReveal) window.initScrollReveal();
    }

    window.filterCities = function (val) {
      currentSearchFilter = val;
      renderCities();
    };

    window.filterCitiesByRegion = function (region, btn) {
      currentRegionFilter = region;
      document.querySelectorAll('.city-region-tab').forEach(function (t) { t.classList.remove('active'); });
      if (btn) btn.classList.add('active');
      renderCities();
    };

    document.addEventListener('DOMContentLoaded', renderCities);
  </script>

  <!-- City hero images -->
  <script>
    const CITY_HERO_IMAGES = {
      jaipur: { src: 'hawa.jpg', alt: 'Jaipur â€“ The Pink City' },
      goa: { src: 'beaches.jpg', alt: 'Goa â€“ Sun & Sand' },
      manali: { src: 'snow.jpg', alt: 'Manali â€“ Snow-Capped Peaks' },
      varanasi: { src: 'ganges.jpg', alt: 'Varanasi â€“ City of Light' },
      kerala: { src: 'nature.jpg', alt: "Kerala â€“ God's Own Country" },
      ladakh: { src: 'mountains.jpg', alt: 'Ladakh â€“ Land of High Passes' },
    };
  </script>

  <script src="script.js"></script>

  <!-- â•â•â• CITIES DRAWER + MOBILE FIX â•â•â• -->
  <script>
    /* â”€â”€ Cities Drawer â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    window.openCitiesDrawer = function (region) {
      var drawer   = document.getElementById('citiesDrawer');
      var backdrop = document.getElementById('citiesDrawerBackdrop');
      if (!drawer) return;

      drawer.classList.add('open');
      backdrop.classList.add('open');
      document.body.style.overflow = 'hidden';

      /* If a region shortcut was clicked, activate that tab */
      if (region) {
        var tabs = document.querySelectorAll('.city-region-tab');
        tabs.forEach(function (t) {
          var matches = t.textContent.trim().toLowerCase().indexOf(region.toLowerCase()) !== -1;
          t.classList.toggle('active', matches);
          if (matches) {
            window.filterCitiesByRegion(region, t);
          }
        });
      } else {
        /* Reset to All */
        var allTab = document.querySelector('.city-region-tab');
        if (allTab && !document.querySelector('.city-region-tab.active')) {
          allTab.classList.add('active');
          window.filterCitiesByRegion('All', allTab);
        }
      }

      /* Auto-focus search on desktop */
      if (window.innerWidth > 600) {
        setTimeout(function () {
          var inp = document.getElementById('citySearchInput');
          if (inp) inp.focus();
        }, 350);
      }
    };

    window.closeCitiesDrawer = function () {
      var drawer   = document.getElementById('citiesDrawer');
      var backdrop = document.getElementById('citiesDrawerBackdrop');
      if (!drawer) return;
      drawer.classList.remove('open');
      backdrop.classList.remove('open');
      document.body.style.overflow = '';
      /* Clear search */
      var inp = document.getElementById('citySearchInput');
      if (inp) { inp.value = ''; window.filterCities(''); }
    };

    /* ESC closes drawer */
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape') window.closeCitiesDrawer();
    });

    /* â”€â”€ Mobile / iOS Fixes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    (function () {
      'use strict';
      function init() {
        /* 1. Wrap openCityPage */
        var _origOpen = window.openCityPage;
        window.openCityPage = function (cityId) {
          if (typeof _origOpen === 'function') _origOpen.call(this, cityId);
          var imgData = (window.CITY_HERO_IMAGES || {})[cityId] || { src: '', alt: cityId };
          var imgEl = document.getElementById('cityHeroImg');
          if (imgEl) { imgEl.src = imgData.src; imgEl.alt = imgData.alt; imgEl.style.display = imgData.src ? 'block' : 'none'; }
          document.body.classList.add('city-page-open');
          /* Also close cities drawer if open */
          window.closeCitiesDrawer();
        };
        /* 2. Wrap closeCityPage */
        var _origClose = window.closeCityPage;
        window.closeCityPage = function () {
          if (typeof _origClose === 'function') _origClose.call(this);
          document.body.classList.remove('city-page-open');
          document.body.style.overflow = '';
        };
        /* 3. Fix place cards */
        document.querySelectorAll('.place-card').forEach(function (card) {
          card.querySelectorAll('*').forEach(function (child) { child.style.pointerEvents = 'none'; });
          card.style.pointerEvents = 'auto';
        });
        /* 4. iOS: region tabs no double-tap delay */
        document.querySelectorAll('.city-region-tab').forEach(function (btn) {
          btn.addEventListener('touchend', function (e) {
            e.preventDefault();
            btn.click();
          }, { passive: false });
        });
        /* 5. iOS: city cards tap fix via delegation */
        var grid = document.getElementById('citiesMasterGrid');
        if (grid) {
          grid.addEventListener('touchend', function (e) {
            var card = e.target.closest('.city-list-card');
            if (card) { e.preventDefault(); card.click(); }
          }, { passive: false });
        }
        /* 6. Android back closes drawer then city page */
        window.addEventListener('popstate', function () {
          var drawer = document.getElementById('citiesDrawer');
          if (drawer && drawer.classList.contains('open')) {
            window.closeCitiesDrawer();
          } else if (document.body.classList.contains('city-page-open')) {
            window.closeCityPage();
          }
        });
      }
      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', init);
      else init();
    })();
  </script>
</body>

</html>
